# ğŸ“‹ æ™ºèƒ½å¯¹è¯è®­ç»ƒå¹³å°éœ€æ±‚ç†è§£ä¸æ¶æ„è®¾è®¡æ–‡æ¡£

## ğŸ¯ å®Œæ•´éœ€æ±‚ç†è§£

### ç³»ç»Ÿå®šä½
**å¹³å°å‹æ™ºèƒ½å¯¹è¯è®­ç»ƒç³»ç»Ÿ**ï¼Œæ”¯æŒç”¨æˆ·é€šè¿‡æ ‡å‡†åŒ–æ•°æ®æ ¼å¼å¿«é€Ÿè®­ç»ƒå’Œç®¡ç†å¤šä¸ªå¯¹è¯æ¨¡å‹ã€‚

### ğŸ”‘ æ ¸å¿ƒä¸šåŠ¡æ¨¡å—

#### 1. æŒ‡ä»¤åº“æ¯ç‰ˆç®¡ç†
- **ç›®æ ‡**: ç®¡ç†ä¸åŒä¸šåŠ¡åœºæ™¯çš„æŒ‡ä»¤åº“
- **åŠŸèƒ½**: åˆ›å»ºã€ç¼–è¾‘æŒ‡ä»¤åº“çš„åŸºæœ¬ä¿¡æ¯ï¼ˆåç§°ã€è¯­ç§ã€æè¿°ã€ä¸šåŠ¡ç¼–ç ï¼‰
- **å…³ç³»**: ä¸€ä¸ªæŒ‡ä»¤åº“æ¯ç‰ˆå¯¹åº”å¤šä¸ªè®­ç»ƒç‰ˆæœ¬

#### 2. æ•°æ®å½•å…¥æ¨¡å—ï¼ˆå«è¯æ§½ç®¡ç†ï¼‰
- **ç›®æ ‡**: ç®¡ç†è®­ç»ƒæ•°æ®å’Œè¯æ§½å®šä¹‰
- **åŠŸèƒ½**: 
  - æŒ‡ä»¤æ•°æ®å½•å…¥ï¼ˆå•æ¡/æ‰¹é‡å¯¼å…¥ï¼‰
  - è¯æ§½ç®¡ç†ï¼ˆè¯æ§½å®šä¹‰ã€è¯æ§½å€¼ã€åˆ«åç®¡ç†ï¼‰
  - æŒ‡ä»¤ä¸è¯æ§½å…³è”é…ç½®
- **æ•°æ®æ ¼å¼**: æ”¯æŒExcelæ‰¹é‡å¯¼å…¥ï¼ˆåŸºäº`public/402/åŒå±æŒ‡ä»¤-20250616å¯¼å‡º.xlsx`æ ¼å¼ï¼‰

#### 3. æŒ‡ä»¤æµ‹è¯•æ¨¡å—
- **ç›®æ ‡**: éªŒè¯è®­ç»ƒæ¨¡å‹çš„æ€§èƒ½å’Œå‡†ç¡®æ€§
- **åŠŸèƒ½**:
  - å•æ¡æŒ‡ä»¤æµ‹è¯•
  - æ‰¹é‡æŒ‡ä»¤æµ‹è¯•
  - æµ‹è¯•ç»“æœåˆ†æå’ŒæŠ¥å‘Š
  - æ¨¡å‹æ€§èƒ½è¯„ä¼°

#### 4. æ¨¡å‹è®­ç»ƒæ¨¡å—
- **ç›®æ ‡**: åŸºäºå½•å…¥æ•°æ®è®­ç»ƒRASAæ¨¡å‹
- **åŠŸèƒ½**: è®­ç»ƒä»»åŠ¡ç®¡ç†ã€çŠ¶æ€ç›‘æ§ã€æ—¥å¿—æŸ¥çœ‹
- **ç‰ˆæœ¬ç®¡ç†**: æ¯æ¬¡è®­ç»ƒç”Ÿæˆæ–°ç‰ˆæœ¬ï¼Œæ”¯æŒç‰ˆæœ¬æ¿€æ´»åˆ‡æ¢

#### 5. ç‰ˆæœ¬ç®¡ç†æ¨¡å—
- **ç›®æ ‡**: ç®¡ç†æ¨¡å‹çš„ä¸åŒè®­ç»ƒç‰ˆæœ¬
- **åŠŸèƒ½**: ç‰ˆæœ¬åˆ—è¡¨ã€ç‰ˆæœ¬å¯¹æ¯”ã€æ¨¡å‹æ¿€æ´»ç®¡ç†

## ğŸ—ï¸ ç³»ç»Ÿæ•´ä½“æ¶æ„è®¾è®¡
```mermaid
graph TB
    subgraph "å‰ç«¯å±‚ Frontend Layer"
        A1["æŒ‡ä»¤åº“æ¯ç‰ˆç®¡ç†"]
        A2["æ•°æ®å½•å…¥ç•Œé¢"]
        A3["è¯æ§½ç®¡ç†ç•Œé¢"]
        A4["æŒ‡ä»¤æµ‹è¯•ç•Œé¢"]
        A5["æ¨¡å‹è®­ç»ƒç•Œé¢"]
        A6["ç‰ˆæœ¬ç®¡ç†ç•Œé¢"]
    end
    
    subgraph "åç«¯æ¥å£å±‚ Backend API Layer"
        B1["æŒ‡ä»¤åº“æ¯ç‰ˆAPI"]
        B2["æŒ‡ä»¤æ•°æ®API"]
        B3["è¯æ§½ç®¡ç†API"]
        B4["æŒ‡ä»¤æµ‹è¯•API"]
        B5["æ¨¡å‹è®­ç»ƒAPI"]
        B6["ç‰ˆæœ¬ç®¡ç†API"]
        B7["æ–‡ä»¶å¤„ç†API"]
    end
    
    subgraph "ä¸šåŠ¡é€»è¾‘å±‚ Business Logic Layer"
        C1["æŒ‡ä»¤åº“ç®¡ç†æœåŠ¡"]
        C2["æ•°æ®å¤„ç†æœåŠ¡"]
        C3["è¯æ§½ç®¡ç†æœåŠ¡"]
        C4["æµ‹è¯•æ‰§è¡ŒæœåŠ¡"]
        C5["è®­ç»ƒä»»åŠ¡è°ƒåº¦"]
        C6["æ¨¡å‹ç‰ˆæœ¬æœåŠ¡"]
        C7["æ–‡ä»¶å¤„ç†æœåŠ¡"]
    end
    
    subgraph "æ•°æ®æŒä¹…å±‚ Data Persistence Layer"
        D1[("æŒ‡ä»¤åº“æ¯ç‰ˆè¡¨")]
        D2[("æŒ‡ä»¤æ•°æ®è¡¨")]
        D3[("è¯æ§½å®šä¹‰è¡¨")]
        D4[("æµ‹è¯•è®°å½•è¡¨")]
        D5[("è®­ç»ƒè®°å½•è¡¨")]
        D6[("æ¨¡å‹æ–‡ä»¶å­˜å‚¨")]
    end
    
    subgraph "RASAé›†æˆå±‚ RASA Integration Layer"
        E1["æ•°æ®æ ¼å¼è½¬æ¢"]
        E2["é…ç½®æ–‡ä»¶ç”Ÿæˆ"]
        E3["æ¨¡å‹è®­ç»ƒæ‰§è¡Œ"]
        E4["æ¨¡å‹æ¨ç†æœåŠ¡"]
        E5["è®­ç»ƒçŠ¶æ€ç›‘æ§"]
    end
    
    A1 --> B1
    A2 --> B2
    A3 --> B3
    A4 --> B4
    A5 --> B5
    A6 --> B6
    
    B1 --> C1
    B2 --> C2
    B3 --> C3
    B4 --> C4
    B5 --> C5
    B6 --> C6
    B7 --> C7
    
    C1 --> D1
    C2 --> D2
    C3 --> D3
    C4 --> D4
    C5 --> D5
    C6 --> D6
    
    C5 --> E1
    C4 --> E4
    E1 --> E2
    E2 --> E3
    E3 --> E5
    E4 --> E5
```



## ğŸ”„ æ ¸å¿ƒä¸šåŠ¡æµç¨‹è®¾è®¡

### 1. æ•´ä½“ä¸šåŠ¡æµç¨‹å›¾
```mermaid
flowchart TD
    Start([è¿›å…¥ç‰ˆæœ¬ç®¡ç†]) --> A[ç‰ˆæœ¬åˆ—è¡¨å±•ç¤º]
    
    A --> B[æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯]
    B --> C[ç‰ˆæœ¬å·]
    C --> D[è®­ç»ƒçŠ¶æ€]
    D --> E[è®­ç»ƒæ—¶é—´]
    E --> F[æ„å›¾æ•°é‡]
    F --> G[æ¿€æ´»çŠ¶æ€]
    
    G --> H{é€‰æ‹©æ“ä½œ}
    
    subgraph "ç‰ˆæœ¬æ¿€æ´»ç®¡ç†"
        H -->|æ¿€æ´»ç‰ˆæœ¬| I[é€‰æ‹©ç›®æ ‡ç‰ˆæœ¬]
        I --> J{å½“å‰æ˜¯å¦æœ‰æ¿€æ´»ç‰ˆæœ¬}
        J -->|æ˜¯| K[åœç”¨å½“å‰ç‰ˆæœ¬]
        J -->|å¦| L[ç›´æ¥æ¿€æ´»é€‰æ‹©ç‰ˆæœ¬]
        K --> L
        L --> M[æ›´æ–°æ¿€æ´»çŠ¶æ€]
        M --> N[é‡å¯RASAæœåŠ¡]
        N --> O[éªŒè¯æ¿€æ´»ç»“æœ]
    end
    
    subgraph "ç‰ˆæœ¬å¯¹æ¯”åˆ†æ"
        H -->|ç‰ˆæœ¬å¯¹æ¯”| P[é€‰æ‹©å¯¹æ¯”ç‰ˆæœ¬]
        P --> Q[é€‰æ‹©åŸºå‡†ç‰ˆæœ¬]
        Q --> R[æ•°æ®å·®å¼‚å¯¹æ¯”]
        R --> S[é…ç½®å·®å¼‚å¯¹æ¯”]
        S --> T[æ€§èƒ½æŒ‡æ ‡å¯¹æ¯”]
        T --> U[ç”Ÿæˆå¯¹æ¯”æŠ¥å‘Š]
    end
    
    subgraph "ç‰ˆæœ¬è¯¦æƒ…æŸ¥çœ‹"
        H -->|æŸ¥çœ‹è¯¦æƒ…| V[ç‰ˆæœ¬è¯¦ç»†ä¿¡æ¯]
        V --> W[è®­ç»ƒå‚æ•°é…ç½®]
        W --> X[è®­ç»ƒæ•°æ®ç»Ÿè®¡]
        X --> Y[è®­ç»ƒæ—¥å¿—æŸ¥çœ‹]
        Y --> Z[æ¨¡å‹æ–‡ä»¶ä¿¡æ¯]
        Z --> AA[æ€§èƒ½æµ‹è¯•ç»“æœ]
    end
    
    subgraph "ç‰ˆæœ¬ç®¡ç†æ“ä½œ"
        H -->|ç‰ˆæœ¬ç®¡ç†| BB[ç‰ˆæœ¬å¤‡ä»½]
        BB --> CC[ç‰ˆæœ¬åˆ é™¤]
        CC --> DD{ç¡®è®¤åˆ é™¤?}
        DD -->|å¦| H
        DD -->|æ˜¯| EE[åˆ é™¤æ¨¡å‹æ–‡ä»¶]
        EE --> FF[åˆ é™¤è®­ç»ƒè®°å½•]
        FF --> GG[æ›´æ–°ç‰ˆæœ¬åˆ—è¡¨]
    end
    
    O --> End([ç‰ˆæœ¬ç®¡ç†å®Œæˆ])
    U --> End
    AA --> End
    GG --> End
    
    style Start fill:#e1f5fe
    style End fill:#e8f5e8
    style N fill:#fff3e0
    style T fill:#f3e5f5flowchart TD
    Start([å¼€å§‹]) --> A[åˆ›å»ºæŒ‡ä»¤åº“æ¯ç‰ˆ]
    A --> B{é€‰æ‹©æ•°æ®å½•å…¥æ–¹å¼}
    
    B -->|å•æ¡å½•å…¥| C[æ‰‹åŠ¨å½•å…¥æŒ‡ä»¤æ•°æ®]
    B -->|æ‰¹é‡å¯¼å…¥| D[ä¸Šä¼ Excelæ–‡ä»¶]
    
    C --> E[é…ç½®è¯æ§½å…³è”]
    D --> F[è§£æExcelæ•°æ®]
    F --> G[æ•°æ®æ ¡éªŒä¸æ¸…æ´—]
    G --> E
    
    E --> H[è¯æ§½ç®¡ç†]
    H --> I[å®šä¹‰è¯æ§½ç±»å‹]
    I --> J[é…ç½®è¯æ§½å€¼å’Œåˆ«å]
    J --> K[å…³è”æŒ‡ä»¤ä¸è¯æ§½]
    
    K --> L{æ•°æ®å‡†å¤‡å®Œæˆ?}
    L -->|å¦| C
    L -->|æ˜¯| M[å¼€å§‹æ¨¡å‹è®­ç»ƒ]
    
    M --> N[ç”ŸæˆRASAé…ç½®æ–‡ä»¶]
    N --> O[æ‰§è¡Œæ¨¡å‹è®­ç»ƒ]
    O --> P{è®­ç»ƒæˆåŠŸ?}
    
    P -->|å¤±è´¥| Q[æŸ¥çœ‹è®­ç»ƒæ—¥å¿—]
    Q --> R[ä¿®å¤æ•°æ®é—®é¢˜]
    R --> L
    
    P -->|æˆåŠŸ| S[ç”Ÿæˆæ–°ç‰ˆæœ¬]
    S --> T[æŒ‡ä»¤æµ‹è¯•]
    
    T --> U[å•æ¡æŒ‡ä»¤æµ‹è¯•]
    U --> V[æ‰¹é‡æŒ‡ä»¤æµ‹è¯•]
    V --> W[æµ‹è¯•ç»“æœåˆ†æ]
    
    W --> X{æµ‹è¯•æ»¡æ„?}
    X -->|å¦| Y[è°ƒæ•´è®­ç»ƒæ•°æ®]
    Y --> L
    
    X -->|æ˜¯| Z[æ¿€æ´»æ¨¡å‹ç‰ˆæœ¬]
    Z --> End([å®Œæˆ])
    
    style Start fill:#e1f5fe
    style End fill:#e8f5e8
    style M fill:#fff3e0
    style T fill:#f3e5f5
```



### 2. æ•°æ®å½•å…¥æ¨¡å—è¯¦ç»†æµç¨‹å›¾
```mermaid
flowchart TD
    Start([è¿›å…¥æ•°æ®å½•å…¥æ¨¡å—]) --> A{é€‰æ‹©å½•å…¥æ–¹å¼}
    
    subgraph "å•æ¡å½•å…¥æµç¨‹"
        A -->|å•æ¡å½•å…¥| B[å¡«å†™æŒ‡ä»¤åŸºæœ¬ä¿¡æ¯]
        B --> C[æŒ‡ä»¤åç§°]
        C --> D[æŒ‡ä»¤ç¼–ç ]
        D --> E[æŒ‡ä»¤æè¿°]
        E --> F{æ˜¯å¦å…³è”è¯æ§½?}
        F -->|æ˜¯| G[é€‰æ‹©å…³è”è¯æ§½]
        F -->|å¦| H[å¡«å†™æ‰§è¡Œè¯æœ¯]
        G --> H
        H --> I[æˆåŠŸè¯æœ¯]
        I --> J[å¤±è´¥è¯æœ¯]
        J --> K[æ·»åŠ ç›¸ä¼¼é—®]
        K --> L[ä¿å­˜æŒ‡ä»¤æ•°æ®]
    end
    
    subgraph "æ‰¹é‡å¯¼å…¥æµç¨‹"
        A -->|æ‰¹é‡å¯¼å…¥| M[é€‰æ‹©Excelæ–‡ä»¶]
        M --> N[æ–‡ä»¶æ ¼å¼æ ¡éªŒ]
        N --> O{æ ¼å¼æ­£ç¡®?}
        O -->|å¦| P[æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯]
        P --> M
        O -->|æ˜¯| Q[è§£æExcelå†…å®¹]
        Q --> R[æ•°æ®é¢„è§ˆç•Œé¢]
        R --> S[ç”¨æˆ·ç¡®è®¤æ•°æ®]
        S --> T{ç¡®è®¤å¯¼å…¥?}
        T -->|å¦| M
        T -->|æ˜¯| U[æ‰¹é‡æ’å…¥æ•°æ®åº“]
        U --> V[æ˜¾ç¤ºå¯¼å…¥ç»“æœ]
    end
    
    subgraph "æ•°æ®ç¼–è¾‘æµç¨‹"
        L --> W[æŒ‡ä»¤åˆ—è¡¨å±•ç¤º]
        V --> W
        W --> X[é€‰æ‹©ç¼–è¾‘æŒ‡ä»¤]
        X --> Y[ä¿®æ”¹æŒ‡ä»¤ä¿¡æ¯]
        Y --> Z[ç®¡ç†ç›¸ä¼¼é—®]
        Z --> AA[å¯ç”¨/ç¦ç”¨çŠ¶æ€]
        AA --> BB[ä¿å­˜ä¿®æ”¹]
    end
    
    BB --> End([æ•°æ®å½•å…¥å®Œæˆ])
    
    style Start fill:#e1f5fe
    style End fill:#e8f5e8
```



### 3. è¯æ§½ç®¡ç†æ¨¡å—æµç¨‹å›¾
```mermaid
flowchart TD
    Start([è¿›å…¥è¯æ§½ç®¡ç†]) --> A[è¯æ§½åˆ—è¡¨å±•ç¤º]
    
    A --> B{é€‰æ‹©æ“ä½œ}
    
    subgraph "æ–°å¢è¯æ§½æµç¨‹"
        B -->|æ–°å¢è¯æ§½| C[å¡«å†™è¯æ§½åŸºæœ¬ä¿¡æ¯]
        C --> D[è¯æ§½åç§°]
        D --> E[è¯æ§½ç±»å‹é€‰æ‹©]
        E --> F[è¯æ§½æè¿°]
        F --> G[ä¿å­˜è¯æ§½å®šä¹‰]
        G --> H[è¿›å…¥è¯æ§½å€¼ç®¡ç†]
    end
    
    subgraph "è¯æ§½å€¼ç®¡ç†æµç¨‹"
        B -->|ç®¡ç†è¯æ§½å€¼| H
        H --> I[æ·»åŠ æ ‡å‡†å€¼]
        I --> J[é…ç½®åˆ«å]
        J --> K[åˆ«åç”¨==åˆ†éš”]
        K --> L[è®¾ç½®å¯ç”¨çŠ¶æ€]
        L --> M[ä¿å­˜è¯æ§½å€¼]
        M --> N{ç»§ç»­æ·»åŠ ?}
        N -->|æ˜¯| I
        N -->|å¦| O[è¯æ§½å€¼åˆ—è¡¨]
    end
    
    subgraph "è¯æ§½å…³è”ç®¡ç†"
        B -->|å…³è”ç®¡ç†| P[æŸ¥çœ‹æŒ‡ä»¤åˆ—è¡¨]
        P --> Q[é€‰æ‹©æŒ‡ä»¤]
        Q --> R[é…ç½®è¯æ§½å…³è”]
        R --> S[é€‰æ‹©å…³è”è¯æ§½]
        S --> T[ä¿å­˜å…³è”å…³ç³»]
    end
    
    subgraph "è¯æ§½ç¼–è¾‘"
        A --> U[é€‰æ‹©ç¼–è¾‘è¯æ§½]
        U --> V[ä¿®æ”¹è¯æ§½ä¿¡æ¯]
        V --> W[ç¼–è¾‘è¯æ§½å€¼]
        W --> X[æ›´æ–°åˆ«åé…ç½®]
        X --> Y[ä¿å­˜ä¿®æ”¹]
    end
    
    O --> End([è¯æ§½ç®¡ç†å®Œæˆ])
    T --> End
    Y --> End
    
    style Start fill:#e1f5fe
    style End fill:#e8f5e8
    style H fill:#fff3e0
```



### 4. æŒ‡ä»¤æµ‹è¯•æ¨¡å—æµç¨‹å›¾

```mermaid
flowchart TD
    Start([è¿›å…¥æŒ‡ä»¤æµ‹è¯•æ¨¡å—]) --> A{é€‰æ‹©æµ‹è¯•æ–¹å¼}
    
    subgraph "å•æ¡æŒ‡ä»¤æµ‹è¯•"
        A -->|å•æ¡æµ‹è¯•| B[è¾“å…¥æµ‹è¯•æŒ‡ä»¤]
        B --> C[é€‰æ‹©æµ‹è¯•æ¨¡å‹ç‰ˆæœ¬]
        C --> D[å‘é€æµ‹è¯•è¯·æ±‚]
        D --> E[RASAæ¨¡å‹è§£æ]
        E --> F[è¿”å›è¯†åˆ«ç»“æœ]
        F --> G[æ˜¾ç¤ºæµ‹è¯•ç»“æœ]
        G --> H[æ„å›¾è¯†åˆ«]
        H --> I[ç½®ä¿¡åº¦åˆ†æ•°]
        I --> J[å®ä½“æå–ç»“æœ]
        J --> K[ä¿å­˜æµ‹è¯•è®°å½•]
    end
    
    subgraph "æ‰¹é‡æŒ‡ä»¤æµ‹è¯•"
        A -->|æ‰¹é‡æµ‹è¯•| L[ä¸Šä¼ æµ‹è¯•æ–‡ä»¶]
        L --> M[æ–‡ä»¶æ ¼å¼æ ¡éªŒ]
        M --> N{æ ¼å¼æ­£ç¡®?}
        N -->|å¦| O[æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯]
        O --> L
        N -->|æ˜¯| P[è§£ææµ‹è¯•æ•°æ®]
        P --> Q[é€‰æ‹©æµ‹è¯•æ¨¡å‹ç‰ˆæœ¬]
        Q --> R[æ‰¹é‡æµ‹è¯•æ‰§è¡Œ]
        R --> S[æµ‹è¯•è¿›åº¦æ˜¾ç¤º]
        S --> T[æ”¶é›†æµ‹è¯•ç»“æœ]
        T --> U[ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š]
    end
    
    subgraph "æµ‹è¯•ç»“æœåˆ†æ"
        K --> V[æµ‹è¯•å†å²è®°å½•]
        U --> V
        V --> W[ç»“æœç»Ÿè®¡åˆ†æ]
        W --> X[æˆåŠŸç‡ç»Ÿè®¡]
        X --> Y[å¤±è´¥æ¡ˆä¾‹åˆ†æ]
        Y --> Z[ç½®ä¿¡åº¦åˆ†å¸ƒ]
        Z --> AA[æ€§èƒ½æŒ‡æ ‡å±•ç¤º]
        AA --> BB[å¯¼å‡ºæµ‹è¯•æŠ¥å‘Š]
    end
    
    subgraph "æ¨¡å‹å¯¹æ¯”æµ‹è¯•"
        A -->|æ¨¡å‹å¯¹æ¯”| CC[é€‰æ‹©å¯¹æ¯”ç‰ˆæœ¬]
        CC --> DD[ç›¸åŒæµ‹è¯•é›†æµ‹è¯•]
        DD --> EE[ç»“æœå¯¹æ¯”åˆ†æ]
        EE --> FF[æ€§èƒ½å·®å¼‚æŠ¥å‘Š]
        FF --> GG[æ¨èæœ€ä¼˜ç‰ˆæœ¬]
    end
    
    BB --> End([æµ‹è¯•å®Œæˆ])
    GG --> End
    
    style Start fill:#e1f5fe
    style End fill:#e8f5e8
    style R fill:#fff3e0
    style W fill:#f3e5f5
```



### 5. æ¨¡å‹è®­ç»ƒæ¨¡å—æµç¨‹å›¾
```mermaid
flowchart TD
    Start([è¿›å…¥æ¨¡å‹è®­ç»ƒ]) --> A[æ£€æŸ¥è®­ç»ƒæ•°æ®]
    A --> B{æ•°æ®å®Œæ•´æ€§æ£€æŸ¥}
    B -->|æ•°æ®ä¸å®Œæ•´| C[æç¤ºè¡¥å……æ•°æ®]
    C --> End1[è¿”å›æ•°æ®å½•å…¥]
    
    B -->|æ•°æ®å®Œæ•´| D[è®­ç»ƒå‰é…ç½®]
    D --> E[é€‰æ‹©è®­ç»ƒå‚æ•°]
    E --> F[é…ç½®è®­ç»ƒç¯å¢ƒ]
    F --> G[åˆ›å»ºè®­ç»ƒè®°å½•]
    
    G --> H[å¼€å§‹è®­ç»ƒæµç¨‹]
    H --> I[æ•°æ®æ ¼å¼è½¬æ¢]
    I --> J[ç”ŸæˆNLU.yml]
    J --> K[ç”ŸæˆDomain.yml]
    K --> L[ç”ŸæˆRules.yml]
    L --> M[ç”ŸæˆConfig.yml]
    
    M --> N[å¯åŠ¨RASAè®­ç»ƒ]
    N --> O[è®­ç»ƒçŠ¶æ€ç›‘æ§]
    
    subgraph "è®­ç»ƒæ‰§è¡Œè¿‡ç¨‹"
        O --> P{è®­ç»ƒè¿›è¡Œä¸­}
        P -->|è¿›è¡Œä¸­| Q[æ›´æ–°è®­ç»ƒçŠ¶æ€]
        Q --> R[è®°å½•è®­ç»ƒæ—¥å¿—]
        R --> S[æ˜¾ç¤ºè®­ç»ƒè¿›åº¦]
        S --> P
        
        P -->|è®­ç»ƒå®Œæˆ| T{è®­ç»ƒç»“æœ}
        T -->|æˆåŠŸ| U[ä¿å­˜æ¨¡å‹æ–‡ä»¶]
        T -->|å¤±è´¥| V[è®°å½•é”™è¯¯ä¿¡æ¯]
    end
    
    U --> W[ç”Ÿæˆç‰ˆæœ¬å·]
    W --> X[æ›´æ–°è®­ç»ƒè®°å½•]
    X --> Y[æ¨¡å‹æ–‡ä»¶å­˜å‚¨]
    Y --> Z[ç‰ˆæœ¬æ¿€æ´»é€‰æ‹©]
    
    V --> AA[æ˜¾ç¤ºé”™è¯¯æ—¥å¿—]
    AA --> BB[æä¾›ä¿®å¤å»ºè®®]
    BB --> CC[é‡æ–°è®­ç»ƒé€‰æ‹©]
    CC --> D
    
    Z --> End2([è®­ç»ƒå®Œæˆ])
    
    style Start fill:#e1f5fe
    style End1 fill:#ffebee
    style End2 fill:#e8f5e8
    style N fill:#fff3e0
    style O fill:#f3e5f5
```



### 6. ç‰ˆæœ¬ç®¡ç†æ¨¡å—æµç¨‹å›¾
```mermaid
flowchart TD
    Start([è¿›å…¥ç‰ˆæœ¬ç®¡ç†]) --> A[ç‰ˆæœ¬åˆ—è¡¨å±•ç¤º]
    
    A --> B[æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯]
    B --> C[ç‰ˆæœ¬å·]
    C --> D[è®­ç»ƒçŠ¶æ€]
    D --> E[è®­ç»ƒæ—¶é—´]
    E --> F[æ„å›¾æ•°é‡]
    F --> G[æ¿€æ´»çŠ¶æ€]
    
    G --> H{é€‰æ‹©æ“ä½œ}
    
    subgraph "ç‰ˆæœ¬æ¿€æ´»ç®¡ç†"
        H -->|æ¿€æ´»ç‰ˆæœ¬| I[é€‰æ‹©ç›®æ ‡ç‰ˆæœ¬]
        I --> J{å½“å‰æ˜¯å¦æœ‰æ¿€æ´»ç‰ˆæœ¬}
        J -->|æ˜¯| K[åœç”¨å½“å‰ç‰ˆæœ¬]
        J -->|å¦| L[ç›´æ¥æ¿€æ´»é€‰æ‹©ç‰ˆæœ¬]
        K --> L
        L --> M[æ›´æ–°æ¿€æ´»çŠ¶æ€]
        M --> N[é‡å¯RASAæœåŠ¡]
        N --> O[éªŒè¯æ¿€æ´»ç»“æœ]
    end
    
    subgraph "ç‰ˆæœ¬å¯¹æ¯”åˆ†æ"
        H -->|ç‰ˆæœ¬å¯¹æ¯”| P[é€‰æ‹©å¯¹æ¯”ç‰ˆæœ¬]
        P --> Q[é€‰æ‹©åŸºå‡†ç‰ˆæœ¬]
        Q --> R[æ•°æ®å·®å¼‚å¯¹æ¯”]
        R --> S[é…ç½®å·®å¼‚å¯¹æ¯”]
        S --> T[æ€§èƒ½æŒ‡æ ‡å¯¹æ¯”]
        T --> U[ç”Ÿæˆå¯¹æ¯”æŠ¥å‘Š]
    end
    
    subgraph "ç‰ˆæœ¬è¯¦æƒ…æŸ¥çœ‹"
        H -->|æŸ¥çœ‹è¯¦æƒ…| V[ç‰ˆæœ¬è¯¦ç»†ä¿¡æ¯]
        V --> W[è®­ç»ƒå‚æ•°é…ç½®]
        W --> X[è®­ç»ƒæ•°æ®ç»Ÿè®¡]
        X --> Y[è®­ç»ƒæ—¥å¿—æŸ¥çœ‹]
        Y --> Z[æ¨¡å‹æ–‡ä»¶ä¿¡æ¯]
        Z --> AA[æ€§èƒ½æµ‹è¯•ç»“æœ]
    end
    
    subgraph "ç‰ˆæœ¬ç®¡ç†æ“ä½œ"
        H -->|ç‰ˆæœ¬ç®¡ç†| BB[ç‰ˆæœ¬å¤‡ä»½]
        BB --> CC[ç‰ˆæœ¬åˆ é™¤]
        CC --> DD{ç¡®è®¤åˆ é™¤?}
        DD -->|å¦| H
        DD -->|æ˜¯| EE[åˆ é™¤æ¨¡å‹æ–‡ä»¶]
        EE --> FF[åˆ é™¤è®­ç»ƒè®°å½•]
        FF --> GG[æ›´æ–°ç‰ˆæœ¬åˆ—è¡¨]
    end
    
    O --> End([ç‰ˆæœ¬ç®¡ç†å®Œæˆ])
    U --> End
    AA --> End
    GG --> End
    
    style Start fill:#e1f5fe
    style End fill:#e8f5e8
    style N fill:#fff3e0
    style T fill:#f3e5f5
```



## ğŸ“Š å®Œæ•´æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒè¡¨ç»“æ„è®¾è®¡

```sql
-- 1. æŒ‡ä»¤åº“æ¯ç‰ˆè¡¨
CREATE TABLE instruction_library_master (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name VARCHAR(100) NOT NULL COMMENT 'æŒ‡ä»¤åº“åç§°',
    language VARCHAR(10) NOT NULL COMMENT 'è¯­ç§(zh-CN, en-USç­‰)',
    description TEXT COMMENT 'æè¿°ä¿¡æ¯', 
    business_code VARCHAR(50) COMMENT 'ä¸šåŠ¡ç¼–ç ',
    created_by VARCHAR(50) COMMENT 'åˆ›å»ºäºº',
    created_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    is_active BOOLEAN DEFAULT TRUE
);

-- 2. æŒ‡ä»¤æ•°æ®è¡¨
CREATE TABLE instruction_data (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    library_id INTEGER NOT NULL COMMENT 'æ‰€å±æŒ‡ä»¤åº“ID',
    instruction_name VARCHAR(100) NOT NULL COMMENT 'æŒ‡ä»¤åç§°',
    instruction_code VARCHAR(50) NOT NULL COMMENT 'æŒ‡ä»¤ç¼–ç ', 
    instruction_desc TEXT COMMENT 'æŒ‡ä»¤æè¿°',
    category VARCHAR(50) COMMENT 'æŒ‡ä»¤åˆ†ç±»',
    is_slot_related BOOLEAN DEFAULT FALSE COMMENT 'æ˜¯å¦å…³è”è¯æ§½',
    related_slot_ids TEXT COMMENT 'å…³è”çš„è¯æ§½IDåˆ—è¡¨(JSONæ ¼å¼)',
    success_response TEXT COMMENT 'æ‰§è¡ŒæˆåŠŸè¯æœ¯',
    failure_response TEXT COMMENT 'æ‰§è¡Œå¤±è´¥è¯æœ¯',
    is_enabled BOOLEAN DEFAULT TRUE COMMENT 'æ˜¯å¦å¯ç”¨',
    sort_order INTEGER DEFAULT 0 COMMENT 'æ’åºåºå·',
    created_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (library_id) REFERENCES instruction_library_master(id)
);

-- 3. ç›¸ä¼¼é—®è¡¨
CREATE TABLE similar_questions (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    instruction_id INTEGER NOT NULL COMMENT 'æ‰€å±æŒ‡ä»¤ID',
    question_text TEXT NOT NULL COMMENT 'ç›¸ä¼¼é—®æ–‡æœ¬',
    is_enabled BOOLEAN DEFAULT TRUE COMMENT 'æ˜¯å¦å¯ç”¨',
    sort_order INTEGER DEFAULT 0 COMMENT 'æ’åºåºå·',
    created_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (instruction_id) REFERENCES instruction_data(id) ON DELETE CASCADE
);

-- 4. è¯æ§½å®šä¹‰è¡¨
CREATE TABLE slot_definitions (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    library_id INTEGER NOT NULL COMMENT 'æ‰€å±æŒ‡ä»¤åº“ID',
    slot_name VARCHAR(100) NOT NULL COMMENT 'è¯æ§½åç§°',
    slot_name_en VARCHAR(100) NOT NULL COMMENT 'è¯æ§½è‹±æ–‡å(ç”¨äºRASA)',
    slot_type VARCHAR(50) NOT NULL COMMENT 'è¯æ§½ç±»å‹(categorical/text/floatç­‰)',
    description TEXT COMMENT 'è¯æ§½æè¿°',
    is_required BOOLEAN DEFAULT FALSE COMMENT 'æ˜¯å¦å¿…å¡«',
    is_active BOOLEAN DEFAULT TRUE COMMENT 'æ˜¯å¦å¯ç”¨',
    created_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (library_id) REFERENCES instruction_library_master(id),
    UNIQUE(library_id, slot_name_en)
);

-- 5. è¯æ§½å€¼è¡¨  
CREATE TABLE slot_values (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    slot_id INTEGER NOT NULL COMMENT 'æ‰€å±è¯æ§½ID',
    standard_value VARCHAR(200) NOT NULL COMMENT 'æ ‡å‡†å€¼',
    aliases TEXT COMMENT 'åˆ«å(ç”¨==åˆ†éš”)',
    description TEXT COMMENT 'å€¼æè¿°',
    is_active BOOLEAN DEFAULT TRUE COMMENT 'æ˜¯å¦å¯ç”¨',
    sort_order INTEGER DEFAULT 0 COMMENT 'æ’åºåºå·',
    created_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (slot_id) REFERENCES slot_definitions(id) ON DELETE CASCADE
);

-- 6. æ¨¡å‹è®­ç»ƒè®°å½•è¡¨
CREATE TABLE model_training_records (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    library_id INTEGER NOT NULL COMMENT 'æ‰€å±æŒ‡ä»¤åº“ID',
    version_number INTEGER NOT NULL COMMENT 'ç‰ˆæœ¬å·',
    training_status VARCHAR(20) DEFAULT 'preparing' COMMENT 'è®­ç»ƒçŠ¶æ€(preparing/training/success/failed)',
    start_time TIMESTAMP COMMENT 'å¼€å§‹æ—¶é—´',
    complete_time TIMESTAMP COMMENT 'å®Œæˆæ—¶é—´', 
    intent_count INTEGER COMMENT 'æ„å›¾æ•°é‡',
    slot_count INTEGER COMMENT 'è¯æ§½æ•°é‡',
    training_data_count INTEGER COMMENT 'è®­ç»ƒæ•°æ®é‡',
    is_active BOOLEAN DEFAULT FALSE COMMENT 'æ˜¯å¦æ¿€æ´»',
    model_file_path VARCHAR(500) COMMENT 'æ¨¡å‹æ–‡ä»¶è·¯å¾„',
    config_snapshot TEXT COMMENT 'è®­ç»ƒæ—¶é…ç½®å¿«ç…§(JSON)',
    training_log TEXT COMMENT 'è®­ç»ƒæ—¥å¿—',
    error_message TEXT COMMENT 'é”™è¯¯ä¿¡æ¯',
    training_params TEXT COMMENT 'è®­ç»ƒå‚æ•°(JSON)',
    created_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (library_id) REFERENCES instruction_library_master(id),
    UNIQUE(library_id, version_number)
);

-- 7. æŒ‡ä»¤æµ‹è¯•è®°å½•è¡¨
CREATE TABLE instruction_test_records (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    library_id INTEGER NOT NULL COMMENT 'æ‰€å±æŒ‡ä»¤åº“ID',
    model_version_id INTEGER NOT NULL COMMENT 'æµ‹è¯•ä½¿ç”¨çš„æ¨¡å‹ç‰ˆæœ¬ID',
    test_type VARCHAR(20) NOT NULL COMMENT 'æµ‹è¯•ç±»å‹(single/batch/comparison)',
    test_name VARCHAR(100) COMMENT 'æµ‹è¯•åç§°',
    test_description TEXT COMMENT 'æµ‹è¯•æè¿°',
    total_count INTEGER COMMENT 'æ€»æµ‹è¯•æ•°é‡',
    success_count INTEGER COMMENT 'æˆåŠŸæ•°é‡',
    success_rate DECIMAL(5,2) COMMENT 'æˆåŠŸç‡',
    avg_confidence DECIMAL(5,2) COMMENT 'å¹³å‡ç½®ä¿¡åº¦',
    test_status VARCHAR(20) DEFAULT 'running' COMMENT 'æµ‹è¯•çŠ¶æ€(running/completed/failed)',
    start_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    complete_time TIMESTAMP COMMENT 'å®Œæˆæ—¶é—´',
    test_report TEXT COMMENT 'æµ‹è¯•æŠ¥å‘Š(JSON)',
    created_by VARCHAR(50) COMMENT 'åˆ›å»ºäºº',
    FOREIGN KEY (library_id) REFERENCES instruction_library_master(id),
    FOREIGN KEY (model_version_id) REFERENCES model_training_records(id)
);

-- 8. æµ‹è¯•è¯¦æƒ…è¡¨
CREATE TABLE test_details (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    test_record_id INTEGER NOT NULL COMMENT 'æ‰€å±æµ‹è¯•è®°å½•ID',
    input_text TEXT NOT NULL COMMENT 'è¾“å…¥æ–‡æœ¬',
    expected_intent VARCHAR(100) COMMENT 'æœŸæœ›æ„å›¾',
    actual_intent VARCHAR(100) COMMENT 'å®é™…è¯†åˆ«æ„å›¾',
    confidence_score DECIMAL(5,2) COMMENT 'ç½®ä¿¡åº¦åˆ†æ•°',
    extracted_entities TEXT COMMENT 'æå–çš„å®ä½“(JSON)',
    is_success BOOLEAN COMMENT 'æ˜¯å¦è¯†åˆ«æˆåŠŸ',
    response_time INTEGER COMMENT 'å“åº”æ—¶é—´(æ¯«ç§’)',
    error_message TEXT COMMENT 'é”™è¯¯ä¿¡æ¯',
    test_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (test_record_id) REFERENCES instruction_test_records(id) ON DELETE CASCADE
);

-- 9. ç³»ç»Ÿé…ç½®è¡¨
CREATE TABLE system_config (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    config_key VARCHAR(100) NOT NULL UNIQUE,
    config_value TEXT,
    config_desc TEXT COMMENT 'é…ç½®æè¿°',
    is_active BOOLEAN DEFAULT TRUE,
    updated_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### ç´¢å¼•è®¾è®¡

```sql
-- æ€§èƒ½ä¼˜åŒ–ç´¢å¼•
CREATE INDEX idx_instruction_data_library_id ON instruction_data(library_id);
CREATE INDEX idx_instruction_data_enabled ON instruction_data(is_enabled);
CREATE INDEX idx_similar_questions_instruction_id ON similar_questions(instruction_id);
CREATE INDEX idx_slot_values_slot_id ON slot_values(slot_id);
CREATE INDEX idx_training_records_library_id ON model_training_records(library_id);
CREATE INDEX idx_training_records_active ON model_training_records(is_active);
CREATE INDEX idx_test_records_library_id ON instruction_test_records(library_id);
CREATE INDEX idx_test_details_record_id ON test_details(test_record_id);
```

## ğŸ”Œ å®Œæ•´APIæ¥å£è®¾è®¡

### 1. æŒ‡ä»¤åº“æ¯ç‰ˆç®¡ç†API

```javascript
// è·å–æŒ‡ä»¤åº“åˆ—è¡¨
GET /api/library/list
Response: {
  "libraries": [
    {
      "id": 1,
      "name": "æ™ºèƒ½å®¶å±…æŒ‡ä»¤åº“",
      "language": "zh-CN",
      "description": "æ™ºèƒ½å®¶å±…æ§åˆ¶æŒ‡ä»¤",
      "business_code": "SMART_HOME_001",
      "created_time": "2024-01-01T10:00:00",
      "instruction_count": 150,
      "latest_version": 3
    }
  ]
}

// åˆ›å»ºæŒ‡ä»¤åº“
POST /api/library/create
Body: {
  "name": "æ–°æŒ‡ä»¤åº“",
  "language": "zh-CN",
  "description": "æè¿°ä¿¡æ¯",
  "business_code": "BIZ_001"
}

// è·å–æŒ‡ä»¤åº“è¯¦æƒ…
GET /api/library/{id}

// æ›´æ–°æŒ‡ä»¤åº“
PUT /api/library/{id}

// åˆ é™¤æŒ‡ä»¤åº“
DELETE /api/library/{id}
```

### 2. æŒ‡ä»¤æ•°æ®ç®¡ç†API

```javascript
// è·å–æŒ‡ä»¤åˆ—è¡¨
GET /api/instruction/list?library_id={id}&page={page}&size={size}

// åˆ›å»ºæŒ‡ä»¤
POST /api/instruction/create
Body: {
  "library_id": 1,
  "instruction_name": "å¼€ç¯æŒ‡ä»¤",
  "instruction_code": "LIGHT_ON",
  "instruction_desc": "æ‰“å¼€ç¯å…‰",
  "category": "ç…§æ˜æ§åˆ¶",
  "is_slot_related": true,
  "related_slot_ids": [1, 2],
  "success_response": "ç¯å…‰å·²æ‰“å¼€",
  "failure_response": "ç¯å…‰æ‰“å¼€å¤±è´¥",
  "similar_questions": ["æ‰“å¼€ç¯", "å¼€ç¯", "ç‚¹äº®ç¯å…‰"]
}

// æ‰¹é‡å¯¼å…¥æŒ‡ä»¤
POST /api/instruction/batch-import
FormData: {
  "library_id": 1,
  "file": Excelæ–‡ä»¶
}

// æ›´æ–°æŒ‡ä»¤
PUT /api/instruction/{id}

// åˆ é™¤æŒ‡ä»¤
DELETE /api/instruction/{id}

// ç®¡ç†ç›¸ä¼¼é—®
POST /api/instruction/{id}/similar-questions
PUT /api/instruction/{id}/similar-questions/{question_id}
DELETE /api/instruction/{id}/similar-questions/{question_id}
```

### 3. è¯æ§½ç®¡ç†API

```javascript
// è·å–è¯æ§½åˆ—è¡¨
GET /api/slot/list?library_id={id}

// åˆ›å»ºè¯æ§½
POST /api/slot/create
Body: {
  "library_id": 1,
  "slot_name": "æˆ¿é—´åç§°",
  "slot_name_en": "room_name",
  "slot_type": "categorical",
  "description": "æˆ¿é—´ä½ç½®",
  "is_required": false
}

// è·å–è¯æ§½è¯¦æƒ…
GET /api/slot/{id}

// æ›´æ–°è¯æ§½
PUT /api/slot/{id}

// åˆ é™¤è¯æ§½
DELETE /api/slot/{id}

// è·å–è¯æ§½å€¼åˆ—è¡¨
GET /api/slot/{id}/values

// æ·»åŠ è¯æ§½å€¼
POST /api/slot/{id}/values
Body: {
  "standard_value": "å®¢å…",
  "aliases": "å¤§å…==ä¼šå®¢å…==èµ·å±…å®¤",
  "description": "å®¢å…æˆ¿é—´"
}

// æ›´æ–°è¯æ§½å€¼
PUT /api/slot/{slot_id}/values/{value_id}

// åˆ é™¤è¯æ§½å€¼
DELETE /api/slot/{slot_id}/values/{value_id}
```

### 4. æŒ‡ä»¤æµ‹è¯•API

```javascript
// å•æ¡æŒ‡ä»¤æµ‹è¯•
POST /api/test/single
Body: {
  "library_id": 1,
  "model_version_id": 3,
  "input_text": "æ‰“å¼€å®¢å…çš„ç¯"
}
Response: {
  "intent": "light_control",
  "confidence": 0.95,
  "entities": [
    {"entity": "room_name", "value": "å®¢å…", "start": 2, "end": 4}
  ],
  "response_time": 120
}

// æ‰¹é‡æŒ‡ä»¤æµ‹è¯•
POST /api/test/batch
FormData: {
  "library_id": 1,
  "model_version_id": 3,
  "test_file": CSVæ–‡ä»¶,
  "test_name": "åŠŸèƒ½éªŒè¯æµ‹è¯•"
}

// è·å–æµ‹è¯•è®°å½•åˆ—è¡¨
GET /api/test/records?library_id={id}

// è·å–æµ‹è¯•è¯¦æƒ…
GET /api/test/records/{id}/details

// è·å–æµ‹è¯•æŠ¥å‘Š
GET /api/test/records/{id}/report

// æ¨¡å‹å¯¹æ¯”æµ‹è¯•
POST /api/test/comparison
Body: {
  "library_id": 1,
  "version_ids": [2, 3],
  "test_file": "same_test_set.csv"
}
```

### 5. æ¨¡å‹è®­ç»ƒAPI

```javascript
// å¼€å§‹è®­ç»ƒ
POST /api/training/start
Body: {
  "library_id": 1,
  "training_params": {
    "epochs": 100,
    "batch_size": 32
  }
}

// è·å–è®­ç»ƒçŠ¶æ€
GET /api/training/status/{record_id}
Response: {
  "status": "training",
  "progress": 65,
  "current_step": "Training DIET",
  "elapsed_time": 1800,
  "estimated_remaining": 900
}

// è·å–è®­ç»ƒè®°å½•åˆ—è¡¨
GET /api/training/records?library_id={id}

// è·å–è®­ç»ƒæ—¥å¿—
GET /api/training/records/{id}/logs

// åœæ­¢è®­ç»ƒ
POST /api/training/stop/{record_id}
```

### 6. ç‰ˆæœ¬ç®¡ç†API

```javascript
// è·å–ç‰ˆæœ¬åˆ—è¡¨
GET /api/version/list?library_id={id}

// æ¿€æ´»æ¨¡å‹ç‰ˆæœ¬
POST /api/version/activate/{record_id}

// ç‰ˆæœ¬å¯¹æ¯”
POST /api/version/compare
Body: {
  "library_id": 1,
  "base_version_id": 2,
  "compare_version_id": 3
}

// åˆ é™¤ç‰ˆæœ¬
DELETE /api/version/{record_id}

// ç‰ˆæœ¬è¯¦æƒ…
GET /api/version/{record_id}/details
```

## ğŸ¨ å‰ç«¯é¡µé¢è¯¦ç»†è®¾è®¡

### é¡µé¢ç»“æ„æ ‘

```
App.js (ä¸»åº”ç”¨)
â”œâ”€â”€ Header.js (é¡¶éƒ¨å¯¼èˆª)
â”œâ”€â”€ Sidebar.js (ä¾§è¾¹æ )
â””â”€â”€ ä¸»å†…å®¹åŒº (Routes)
    â”œâ”€â”€ LibraryMaster.js (æŒ‡ä»¤åº“æ¯ç‰ˆç®¡ç†)
    â”‚   â”œâ”€â”€ LibraryList.js (åº“åˆ—è¡¨)
    â”‚   â”œâ”€â”€ LibraryForm.js (æ–°å»º/ç¼–è¾‘åº“)
    â”‚   â””â”€â”€ LibraryDetail.js (åº“è¯¦æƒ…)
    â”‚
    â”œâ”€â”€ DataEntry.js (æ•°æ®å½•å…¥æ¨¡å—)
    â”‚   â”œâ”€â”€ InstructionList.js (æŒ‡ä»¤åˆ—è¡¨)
    â”‚   â”œâ”€â”€ InstructionForm.js (æŒ‡ä»¤è¡¨å•)
    â”‚   â”œâ”€â”€ BatchImport.js (æ‰¹é‡å¯¼å…¥)
    â”‚   â”œâ”€â”€ SlotManagement.js (è¯æ§½ç®¡ç†)
    â”‚   â”‚   â”œâ”€â”€ SlotList.js (è¯æ§½åˆ—è¡¨)
    â”‚   â”‚   â”œâ”€â”€ SlotForm.js (è¯æ§½è¡¨å•)
    â”‚   â”‚   â””â”€â”€ SlotValues.js (è¯æ§½å€¼ç®¡ç†)
    â”‚   â””â”€â”€ SimilarQuestions.js (ç›¸ä¼¼é—®ç®¡ç†)
    â”‚
    â”œâ”€â”€ InstructionTest.js (æŒ‡ä»¤æµ‹è¯•æ¨¡å—)
    â”‚   â”œâ”€â”€ SingleTest.js (å•æ¡æµ‹è¯•)
    â”‚   â”œâ”€â”€ BatchTest.js (æ‰¹é‡æµ‹è¯•)
    â”‚   â”œâ”€â”€ TestHistory.js (æµ‹è¯•å†å²)
    â”‚   â”œâ”€â”€ TestReport.js (æµ‹è¯•æŠ¥å‘Š)
    â”‚   â””â”€â”€ ModelComparison.js (æ¨¡å‹å¯¹æ¯”)
    â”‚
    â”œâ”€â”€ ModelTraining.js (æ¨¡å‹è®­ç»ƒæ¨¡å—)
    â”‚   â”œâ”€â”€ TrainingConfig.js (è®­ç»ƒé…ç½®)
    â”‚   â”œâ”€â”€ TrainingMonitor.js (è®­ç»ƒç›‘æ§)
    â”‚   â”œâ”€â”€ TrainingHistory.js (è®­ç»ƒå†å²)
    â”‚   â””â”€â”€ TrainingLogs.js (è®­ç»ƒæ—¥å¿—)
    â”‚
    â””â”€â”€ VersionManagement.js (ç‰ˆæœ¬ç®¡ç†æ¨¡å—)
        â”œâ”€â”€ VersionList.js (ç‰ˆæœ¬åˆ—è¡¨)
        â”œâ”€â”€ VersionDetail.js (ç‰ˆæœ¬è¯¦æƒ…)
        â”œâ”€â”€ VersionComparison.js (ç‰ˆæœ¬å¯¹æ¯”)
        â””â”€â”€ VersionActivation.js (ç‰ˆæœ¬æ¿€æ´»)
```

## ğŸ” ç°æœ‰ç³»ç»Ÿå¤ç”¨æ€§è¯¦ç»†åˆ†æ

### âœ… é«˜å¤ç”¨æ€§æ¨¡å— (80%ä»¥ä¸Šå¤ç”¨)

#### åŸºç¡€è®¾æ–½å±‚
- **æ•°æ®åº“è¿æ¥**: `backend/database.py` - 100%å¤ç”¨
- **åŸºç¡€é…ç½®**: `backend/app.py` Flaskåº”ç”¨é…ç½® - 90%å¤ç”¨
- **å·¥å…·å‡½æ•°**: `src/utils/timeUtils.js` - 100%å¤ç”¨
- **æ ·å¼ç³»ç»Ÿ**: `src/styles/colors.js`, `src/index.css` - 100%å¤ç”¨

#### RASAåŸºç¡€å±‚
- **é…ç½®ç®¡ç†è„šæœ¬**: `rasa/versions/` ä¸‹çš„ç‰ˆæœ¬ç®¡ç†å·¥å…· - 85%å¤ç”¨
- **åŸºç¡€é…ç½®**: `rasa/config.yml`, `rasa/credentials.yml` - 90%å¤ç”¨

### âš¡ ä¸­ç­‰å¤ç”¨æ€§æ¨¡å— (40-80%å¤ç”¨)

#### æ–‡ä»¶å¤„ç†
- **Excelå¤„ç†**: `backend/services/excel_processor.py` - 60%å¤ç”¨ï¼Œéœ€è¦é€‚é…æ–°æ ¼å¼
- **æ–‡ä»¶ä¸Šä¼ **: å‰ç«¯æ–‡ä»¶ä¸Šä¼ é€»è¾‘ - 70%å¤ç”¨

#### é€šç”¨ç»„ä»¶
- **åŠ è½½ç»„ä»¶**: `src/components/CustomLoading.js` - 100%å¤ç”¨
- **APIè°ƒç”¨**: `src/api.js` - 50%å¤ç”¨ï¼Œéœ€è¦æ–°å¢æ¥å£

### ğŸ”„ ä½å¤ç”¨æ€§æ¨¡å— (40%ä»¥ä¸‹å¤ç”¨)

#### å‰ç«¯é¡µé¢
- **æ‰€æœ‰é¡µé¢ç»„ä»¶**: éœ€è¦é‡æ–°è®¾è®¡ - 20%å¤ç”¨
- **çŠ¶æ€ç®¡ç†**: éœ€è¦é€‚é…æ–°ä¸šåŠ¡æ¨¡å‹ - 30%å¤ç”¨

#### åç«¯ä¸šåŠ¡é€»è¾‘  
- **APIæ¥å£**: `backend/api/` - 30%å¤ç”¨ï¼Œå¤§éƒ¨åˆ†éœ€è¦é‡å†™
- **æ•°æ®æ¨¡å‹**: `backend/models/schemas.py` - 10%å¤ç”¨ï¼Œå‡ ä¹é‡å†™
- **ä¸šåŠ¡æœåŠ¡**: `backend/services/` - 40%å¤ç”¨

## ğŸ“… å¼€å‘å®æ–½è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æ¡†æ¶é‡æ„ (2-3å‘¨)
1. **æ•°æ®åº“é‡æ„** (3å¤©)
   - è®¾è®¡å¹¶åˆ›å»ºæ–°è¡¨ç»“æ„
   - æ•°æ®è¿ç§»è„šæœ¬
   - åŸºç¡€æ•°æ®åˆå§‹åŒ–

2. **åç«¯åŸºç¡€API** (5å¤©)  
   - æŒ‡ä»¤åº“æ¯ç‰ˆç®¡ç†API
   - åŸºç¡€æ•°æ®æ¨¡å‹é‡æ„
   - APIå“åº”æ ¼å¼æ ‡å‡†åŒ–

3. **å‰ç«¯åŸºç¡€æ¡†æ¶** (4å¤©)
   - é¡µé¢è·¯ç”±é‡æ„
   - ä¸»ç•Œé¢æ¡†æ¶æ­å»º
   - é€šç”¨ç»„ä»¶ä¼˜åŒ–

### ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒåŠŸèƒ½å¼€å‘ (3-4å‘¨)
1. **æ•°æ®å½•å…¥æ¨¡å—** (7å¤©)
   - æŒ‡ä»¤æ•°æ®CRUDåŠŸèƒ½
   - Excelæ‰¹é‡å¯¼å…¥ä¼˜åŒ–
   - ç›¸ä¼¼é—®ç®¡ç†

2. **è¯æ§½ç®¡ç†æ¨¡å—** (5å¤©)
   - è¯æ§½å®šä¹‰ç®¡ç†
   - è¯æ§½å€¼å’Œåˆ«åç®¡ç†
   - æŒ‡ä»¤ä¸è¯æ§½å…³è”

3. **å‰ç«¯ç•Œé¢å¼€å‘** (8å¤©)
   - æ•°æ®å½•å…¥ç•Œé¢
   - è¯æ§½ç®¡ç†ç•Œé¢
   - äº¤äº’ä¼˜åŒ–

### ç¬¬ä¸‰é˜¶æ®µï¼šæµ‹è¯•ä¸è®­ç»ƒæ¨¡å— (3-4å‘¨)
1. **æŒ‡ä»¤æµ‹è¯•æ¨¡å—** (8å¤©)
   - å•æ¡/æ‰¹é‡æµ‹è¯•åŠŸèƒ½
   - æµ‹è¯•ç»“æœåˆ†æ
   - æ¨¡å‹å¯¹æ¯”åŠŸèƒ½

2. **æ¨¡å‹è®­ç»ƒæ¨¡å—** (6å¤©)
   - RASAé›†æˆé€‚é…
   - è®­ç»ƒæµç¨‹é‡æ„
   - çŠ¶æ€ç›‘æ§ä¼˜åŒ–

3. **å‰ç«¯æµ‹è¯•è®­ç»ƒç•Œé¢** (6å¤©)
   - æµ‹è¯•ç•Œé¢å¼€å‘
   - è®­ç»ƒç›‘æ§ç•Œé¢
   - ç»“æœå±•ç¤ºä¼˜åŒ–

### ç¬¬å››é˜¶æ®µï¼šç‰ˆæœ¬ç®¡ç†ä¸ä¼˜åŒ– (2-3å‘¨)
1. **ç‰ˆæœ¬ç®¡ç†æ¨¡å—** (5å¤©)
   - ç‰ˆæœ¬åˆ—è¡¨å’Œè¯¦æƒ…
   - ç‰ˆæœ¬æ¿€æ´»åˆ‡æ¢
   - ç‰ˆæœ¬å¯¹æ¯”åˆ†æ

2. **ç³»ç»Ÿä¼˜åŒ–** (5å¤©)
   - æ€§èƒ½ä¼˜åŒ–
   - é”™è¯¯å¤„ç†å®Œå–„
   - ç”¨æˆ·ä½“éªŒä¼˜åŒ–

3. **æµ‹è¯•ä¸éƒ¨ç½²** (5å¤©)
   - å®Œæ•´åŠŸèƒ½æµ‹è¯•
   - æ€§èƒ½æµ‹è¯•
   - éƒ¨ç½²è„šæœ¬ä¼˜åŒ–

## ğŸ¯ æŠ€æœ¯é£é™©è¯„ä¼°ä¸ç¼“è§£ç­–ç•¥

### ä¸»è¦æŠ€æœ¯é£é™©
1. **æ•°æ®åº“è¿ç§»é£é™©**: ç°æœ‰æ•°æ®ç»“æ„å˜åŒ–å¤§
   - **ç¼“è§£ç­–ç•¥**: åˆ†æ­¥è¿ç§»ï¼Œä¿ç•™åŸå§‹æ•°æ®å¤‡ä»½

2. **RASAé›†æˆå¤æ‚æ€§**: æ–°ç‰ˆæœ¬ç®¡ç†æ¨¡å¼é›†æˆ
   - **ç¼“è§£ç­–ç•¥**: ä¿ç•™ç°æœ‰è®­ç»ƒè„šæœ¬ï¼Œæ¸è¿›å¼æ”¹é€ 

3. **å‰ç«¯é‡æ„å·¥ä½œé‡**: é¡µé¢ç»“æ„å˜åŒ–å¤§
   - **ç¼“è§£ç­–ç•¥**: å¤ç”¨ç°æœ‰ç»„ä»¶ï¼Œåˆ†æ¨¡å—å¼€å‘

4. **è®­ç»ƒç¨³å®šæ€§**: å¹³å°åŒ–åçš„è®­ç»ƒç¨³å®šæ€§
   - **ç¼“è§£ç­–ç•¥**: å……åˆ†æµ‹è¯•ï¼Œé”™è¯¯å¤„ç†æœºåˆ¶å®Œå–„

### æˆåŠŸæ ‡å‡†å®šä¹‰
1. **åŠŸèƒ½å®Œæ•´æ€§**: æ”¯æŒå®Œæ•´çš„å¹³å°åŒ–è®­ç»ƒæµç¨‹
2. **æ˜“ç”¨æ€§**: éæŠ€æœ¯ç”¨æˆ·å¯ä»¥ç‹¬ç«‹å®Œæˆæ“ä½œ
3. **ç¨³å®šæ€§**: è®­ç»ƒæˆåŠŸç‡95%ä»¥ä¸Š
4. **æ€§èƒ½**: æ‰¹é‡æ“ä½œå“åº”æ—¶é—´åœ¨å¯æ¥å—èŒƒå›´
5. **æ‰©å±•æ€§**: æ”¯æŒå¤šä¸ªæŒ‡ä»¤åº“å¹¶è¡Œç®¡ç†

---

## ğŸ“‹ æ–‡æ¡£æ€»ç»“

æœ¬éœ€æ±‚ç†è§£æ–‡æ¡£æ¶µç›–äº†æ™ºèƒ½å¯¹è¯è®­ç»ƒå¹³å°çš„å®Œæ•´è®¾è®¡ï¼ŒåŒ…æ‹¬ï¼š

- âœ… **5ä¸ªæ ¸å¿ƒä¸šåŠ¡æ¨¡å—**çš„å®Œæ•´æµç¨‹è®¾è®¡
- âœ… **å®Œæ•´çš„æ•°æ®åº“è®¾è®¡**åŒ…å«9ä¸ªæ ¸å¿ƒè¡¨
- âœ… **è¯¦ç»†çš„APIæ¥å£è®¾è®¡**æ”¯æŒæ‰€æœ‰ä¸šåŠ¡åœºæ™¯  
- âœ… **å‰ç«¯é¡µé¢æ¶æ„**å’Œç»„ä»¶å¤ç”¨ç­–ç•¥
- âœ… **ç°æœ‰ç³»ç»Ÿå¤ç”¨æ€§åˆ†æ**æœ€å¤§åŒ–ä»£ç å¤ç”¨
- âœ… **åˆ†é˜¶æ®µå¼€å‘è®¡åˆ’**å’Œé£é™©ç¼“è§£ç­–ç•¥

**ç³»ç»Ÿå·²å‡†å¤‡å°±ç»ªï¼Œç­‰å¾…æ‚¨çš„å¼€å‘ç¡®è®¤æŒ‡ä»¤ï¼** ğŸš€