# 启动脚本说明

## 概述

本目录包含智能对话训练平台的启动脚本，采用Python实现，支持跨平台运行。

## 启动方式

### 主启动脚本（推荐）

```bash
# 分标签页启动（推荐）
python start_platform_tabs.py
```

**特性：**
- 🚀 **分标签页显示**：每个服务在独立标签页中显示详细日志
- 🔧 **智能环境检查**：自动检查Python、Node.js、RASA依赖
- 🎯 **跨平台支持**：支持Windows、Linux、macOS
- 🛠️ **自动故障诊断**：启动失败时提供详细解决建议
- 🎨 **彩色界面**：不同服务使用不同颜色主题
- 🔄 **智能降级**：根据环境自动选择最佳启动方式

### 启动流程

1. **环境检查**：验证Python、Node.js、RASA环境
2. **文件验证**：检查关键配置文件
3. **端口清理**：停止占用端口的现有服务
4. **智能启动**：根据系统选择最佳启动方式

### 支持的启动方式

#### Windows系统
1. **Windows Terminal标签页**（优先）
   - 使用`wt`命令启动多标签页
   - 每个服务独立标签页，便于查看日志

2. **传统cmd窗口**（降级）
   - 启动3个独立cmd窗口
   - 兼容旧版Windows系统

#### Unix/Linux系统
1. **终端模拟器**（优先）
   - 支持gnome-terminal、konsole、xterm
   - 每个服务独立终端窗口

2. **直接进程启动**（降级）
   - 后台启动服务进程
   - 脚本保持运行监控状态

## 服务信息

启动后的服务地址：

- **前端界面**: http://localhost:3000
- **后端API**: http://localhost:8001
- **后端文档**: http://localhost:8001/docs
- **API健康检查**: http://localhost:8001/api/health
- **RASA API**: http://localhost:5005

## 停止服务

### 方式1：关闭标签页/窗口
- 直接关闭对应的标签页或窗口即可停止服务

### 方式2：使用Ctrl+C
- 在启动脚本窗口中按`Ctrl+C`停止所有服务

### 方式3：手动停止
- 可以在任务管理器中手动结束进程

## 故障排除

### 常见问题

1. **端口占用**
   - 脚本会自动检查并清理占用的端口
   - 如仍有问题，请手动停止相关进程

2. **环境依赖**
   - Python 3.8+
   - Node.js 16+
   - RASA 3.x

3. **权限问题**
   - 确保脚本有执行权限
   - Windows下可能需要管理员权限

4. **编码问题**
   - 所有脚本使用UTF-8编码
   - 支持中文路径和文件名

### 日志查看

每个服务的日志都会在对应的标签页/窗口中实时显示：

- **后端日志**：包含API请求、数据库操作、错误信息
- **前端日志**：包含webpack编译、热重载、访问日志
- **RASA日志**：包含NLU处理、对话管理、模型加载

## 开发建议

1. **开发环境**：推荐使用Windows Terminal或现代终端模拟器
2. **调试模式**：所有服务都启用了开发模式和热重载
3. **日志级别**：可以通过修改启动参数调整日志详细程度
4. **性能监控**：建议同时打开系统监控页面观察资源使用

## 更新日志

### v2.0.0 (2025-01-07)
- 🔥 **重大更新**：移除所有bat文件，统一使用Python脚本
- ✨ **新增功能**：跨平台支持，智能环境检查
- 🛠️ **优化改进**：更好的错误处理和故障诊断
- 🎨 **界面优化**：彩色日志输出，更清晰的状态显示

### v1.x (历史版本)
- 支持Windows批处理文件启动
- 基础的服务管理功能 